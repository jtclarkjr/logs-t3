{
  "info": {
    "name": "Logs Dashboard API (tRPC)",
    "description": "Complete API collection for the Logs Dashboard built with T3 Stack (tRPC + Drizzle + Next.js). All parameters use camelCase.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_exporter_id": "logs-dashboard"
  },
  "item": [
    {
      "name": "Logs CRUD",
      "item": [
        {
          "name": "Create Log Entry",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"Application started successfully\",\n  \"severity\": \"INFO\",\n  \"source\": \"api-server\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/trpc/logs.create",
              "host": ["{{baseUrl}}"],
              "path": ["api", "trpc", "logs.create"]
            },
            "description": "Creates a new log entry. Timestamp is optional and defaults to current time if not provided.\n\nSeverity levels: DEBUG, INFO, WARNING, ERROR, CRITICAL"
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "POST",
                "header": [],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"message\": \"Application started\",\n  \"severity\": \"INFO\",\n  \"source\": \"api-server\"\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseUrl}}/api/trpc/logs.create",
                  "host": ["{{baseUrl}}"],
                  "path": ["api", "trpc", "logs.create"]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [],
              "cookie": [],
              "body": "{\n  \"result\": {\n    \"data\": {\n      \"id\": \"123e4567-e89b-12d3-a456-426614174000\",\n      \"message\": \"Application started\",\n      \"severity\": \"INFO\",\n      \"source\": \"api-server\",\n      \"timestamp\": \"2024-01-15T10:30:00.000Z\",\n      \"createdAt\": \"2024-01-15T10:30:00.000Z\",\n      \"updatedAt\": \"2024-01-15T10:30:00.000Z\"\n    }\n  }\n}"
            }
          ]
        },
        {
          "name": "Get All Logs (No Filters)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/trpc/logs.getAll?input={\"json\":{\"page\":1,\"pageSize\":20}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "trpc", "logs.getAll"],
              "query": [
                {
                  "key": "input",
                  "value": "{\"json\":{\"page\":1,\"pageSize\":20}}"
                }
              ]
            },
            "description": "Retrieves all logs with pagination. Default page size is 20."
          },
          "response": []
        },
        {
          "name": "Get All Logs (With Filters)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/trpc/logs.getAll?input={\"json\":{\"page\":1,\"pageSize\":20,\"severity\":\"ERROR\",\"source\":\"api-server\",\"search\":\"failed\",\"sortBy\":\"timestamp\",\"sortOrder\":\"desc\"}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "trpc", "logs.getAll"],
              "query": [
                {
                  "key": "input",
                  "value": "{\"json\":{\"page\":1,\"pageSize\":20,\"severity\":\"ERROR\",\"source\":\"api-server\",\"search\":\"failed\",\"sortBy\":\"timestamp\",\"sortOrder\":\"desc\"}}"
                }
              ]
            },
            "description": "Retrieves logs with filters. All filters use camelCase:\n- page: Page number (default 1)\n- pageSize: Items per page (default 20)\n- severity: DEBUG, INFO, WARNING, ERROR, CRITICAL\n- source: Filter by source name\n- startDate/endDate: ISO date strings\n- search: Search in message\n- sortBy: timestamp, severity, source (default: timestamp)\n- sortOrder: asc or desc (default: desc)"
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/api/trpc/logs.getAll?input={\"json\":{\"page\":1,\"pageSize\":20}}",
                  "host": ["{{baseUrl}}"],
                  "path": ["api", "trpc", "logs.getAll"]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [],
              "cookie": [],
              "body": "{\n  \"result\": {\n    \"data\": {\n      \"logs\": [\n        {\n          \"id\": \"123e4567-e89b-12d3-a456-426614174000\",\n          \"message\": \"Application started\",\n          \"severity\": \"INFO\",\n          \"source\": \"api-server\",\n          \"timestamp\": \"2024-01-15T10:30:00.000Z\",\n          \"createdAt\": \"2024-01-15T10:30:00.000Z\",\n          \"updatedAt\": \"2024-01-15T10:30:00.000Z\"\n        }\n      ],\n      \"total\": 100,\n      \"page\": 1,\n      \"pageSize\": 20,\n      \"totalPages\": 5\n    }\n  }\n}"
            }
          ]
        },
        {
          "name": "Get Log by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/trpc/logs.getById?input={\"json\":{\"id\":\"123e4567-e89b-12d3-a456-426614174000\"}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "trpc", "logs.getById"],
              "query": [
                {
                  "key": "input",
                  "value": "{\"json\":{\"id\":\"123e4567-e89b-12d3-a456-426614174000\"}}",
                  "description": "Log ID (UUID string)"
                }
              ]
            },
            "description": "Retrieves a single log entry by its UUID. IDs are strings, not numbers."
          },
          "response": []
        },
        {
          "name": "Update Log Entry",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": \"123e4567-e89b-12d3-a456-426614174000\",\n  \"data\": {\n    \"message\": \"Updated log message\",\n    \"severity\": \"WARNING\"\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/trpc/logs.update",
              "host": ["{{baseUrl}}"],
              "path": ["api", "trpc", "logs.update"]
            },
            "description": "Updates an existing log entry. All fields in 'data' are optional:\n- message\n- severity\n- source\n- timestamp"
          },
          "response": []
        },
        {
          "name": "Delete Log Entry",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": \"123e4567-e89b-12d3-a456-426614174000\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/trpc/logs.delete",
              "host": ["{{baseUrl}}"],
              "path": ["api", "trpc", "logs.delete"]
            },
            "description": "Deletes a log entry by UUID."
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "POST",
                "header": [],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": \"123e4567-e89b-12d3-a456-426614174000\"\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/api/trpc/logs.delete",
                  "host": ["{{baseUrl}}"],
                  "path": ["api", "trpc", "logs.delete"]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [],
              "cookie": [],
              "body": "{\n  \"result\": {\n    \"data\": {\n      \"success\": true,\n      \"message\": \"Log deleted successfully\"\n    }\n  }\n}"
            }
          ]
        }
      ],
      "description": "CRUD operations for log entries. All parameters use camelCase."
    },
    {
      "name": "Analytics",
      "item": [
        {
          "name": "Get Aggregation Data",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/trpc/logs.getAggregation?input={\"json\":{}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "trpc", "logs.getAggregation"],
              "query": [
                {
                  "key": "input",
                  "value": "{\"json\":{}}"
                }
              ]
            },
            "description": "Gets aggregated log statistics. All fields use camelCase:\n- totalLogs: Total count\n- dateRangeStart/dateRangeEnd: Date range of data\n- bySeverity: Count by severity level\n- bySource: Count by source\n- byDate: Count by date\n\nOptional filters (all camelCase): startDate, endDate, severity, source"
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/api/trpc/logs.getAggregation?input={\"json\":{}}",
                  "host": ["{{baseUrl}}"],
                  "path": ["api", "trpc", "logs.getAggregation"]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [],
              "cookie": [],
              "body": "{\n  \"result\": {\n    \"data\": {\n      \"totalLogs\": 1500,\n      \"dateRangeStart\": \"2024-01-01T00:00:00.000Z\",\n      \"dateRangeEnd\": \"2024-12-31T23:59:59.999Z\",\n      \"bySeverity\": [\n        {\"severity\": \"DEBUG\", \"count\": 100},\n        {\"severity\": \"INFO\", \"count\": 1000},\n        {\"severity\": \"WARNING\", \"count\": 250},\n        {\"severity\": \"ERROR\", \"count\": 125},\n        {\"severity\": \"CRITICAL\", \"count\": 25}\n      ],\n      \"bySource\": [\n        {\"source\": \"api-server\", \"count\": 800},\n        {\"source\": \"web-app\", \"count\": 700}\n      ],\n      \"byDate\": [\n        {\"date\": \"2024-01-01\", \"count\": 50},\n        {\"date\": \"2024-01-02\", \"count\": 75}\n      ]\n    }\n  }\n}"
            }
          ]
        },
        {
          "name": "Get Chart Data (Daily)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/trpc/logs.getChartData?input={\"json\":{\"groupBy\":\"day\"}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "trpc", "logs.getChartData"],
              "query": [
                {
                  "key": "input",
                  "value": "{\"json\":{\"groupBy\":\"day\"}}"
                }
              ]
            },
            "description": "Gets time series data for charts. All fields use camelCase.\n\ngroupBy options: hour, day, week, month\n\nOptional filters: startDate, endDate, severity, source"
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/api/trpc/logs.getChartData?input={\"json\":{\"groupBy\":\"day\"}}",
                  "host": ["{{baseUrl}}"],
                  "path": ["api", "trpc", "logs.getChartData"]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [],
              "cookie": [],
              "body": "{\n  \"result\": {\n    \"data\": {\n      \"data\": [\n        {\n          \"timestamp\": \"2024-01-01T00:00:00.000Z\",\n          \"total\": 150,\n          \"DEBUG\": 10,\n          \"INFO\": 100,\n          \"WARNING\": 25,\n          \"ERROR\": 13,\n          \"CRITICAL\": 2\n        }\n      ],\n      \"groupBy\": \"day\",\n      \"startDate\": \"2024-01-01T00:00:00.000Z\",\n      \"endDate\": \"2024-01-31T23:59:59.999Z\",\n      \"filters\": {\n        \"severity\": null,\n        \"source\": null\n      }\n    }\n  }\n}"
            }
          ]
        },
        {
          "name": "Get Chart Data (Hourly)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/trpc/logs.getChartData?input={\"json\":{\"groupBy\":\"hour\"}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "trpc", "logs.getChartData"],
              "query": [
                {
                  "key": "input",
                  "value": "{\"json\":{\"groupBy\":\"hour\"}}"
                }
              ]
            },
            "description": "Gets hourly time series data. Use camelCase for all parameters."
          },
          "response": []
        },
        {
          "name": "Get Chart Data (With Filters)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/trpc/logs.getChartData?input={\"json\":{\"severity\":\"ERROR\",\"source\":\"api-server\",\"groupBy\":\"day\"}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "trpc", "logs.getChartData"],
              "query": [
                {
                  "key": "input",
                  "value": "{\"json\":{\"severity\":\"ERROR\",\"source\":\"api-server\",\"groupBy\":\"day\"}}"
                }
              ]
            },
            "description": "Gets chart data filtered by severity and/or source. All parameters use camelCase."
          },
          "response": []
        },
        {
          "name": "Get Metadata",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/trpc/logs.getMetadata",
              "host": ["{{baseUrl}}"],
              "path": ["api", "trpc", "logs.getMetadata"]
            },
            "description": "Gets metadata about the logs. All fields use camelCase:\n- severityLevels: Available severity levels\n- sources: All unique sources\n- dateRange: Earliest/latest log timestamps\n- severityStats: Count per severity\n- totalLogs: Total log count\n- sortFields: Available sort fields\n- pagination: defaultPageSize, maxPageSize"
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/api/trpc/logs.getMetadata",
                  "host": ["{{baseUrl}}"],
                  "path": ["api", "trpc", "logs.getMetadata"]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [],
              "cookie": [],
              "body": "{\n  \"result\": {\n    \"data\": {\n      \"severityLevels\": [\"DEBUG\", \"INFO\", \"WARNING\", \"ERROR\", \"CRITICAL\"],\n      \"sources\": [\"api-server\", \"web-app\", \"worker\"],\n      \"dateRange\": {\n        \"earliest\": \"2024-01-01T00:00:00.000Z\",\n        \"latest\": \"2024-12-31T23:59:59.999Z\"\n      },\n      \"severityStats\": {\n        \"DEBUG\": 100,\n        \"INFO\": 1000,\n        \"WARNING\": 250,\n        \"ERROR\": 125,\n        \"CRITICAL\": 25\n      },\n      \"totalLogs\": 1500,\n      \"sortFields\": [\"timestamp\", \"severity\", \"source\"],\n      \"pagination\": {\n        \"defaultPageSize\": 20,\n        \"maxPageSize\": 100\n      }\n    }\n  }\n}"
            }
          ]
        }
      ],
      "description": "Analytics and aggregation endpoints. All responses use camelCase."
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [""]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [
          "pm.test(\"Status code is 200\", function () {",
          "    pm.response.to.have.status(200);",
          "});",
          "",
          "pm.test(\"Response has result.data\", function () {",
          "    var jsonData = pm.response.json();",
          "    pm.expect(jsonData).to.have.property('result');",
          "    pm.expect(jsonData.result).to.have.property('data');",
          "});"
        ]
      }
    }
  ],
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:3000",
      "type": "string",
      "description": "Base URL for the API. Change to http://localhost:3002 if port 3000 is in use."
    }
  ]
}
